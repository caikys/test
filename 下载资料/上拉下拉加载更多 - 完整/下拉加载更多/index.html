<!DOCTYPE html>
<html>

<head>
	<title>jquery移动手机端加载更多内容时上拉下拉刷新页面代码 - xw素材网</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<link rel="stylesheet" href="reset.css" />
	<link rel="stylesheet" href="pullToRefresh.css" />
	<script src="iscroll.js"></script>
	<script src="pullToRefresh.js"></script>
	<script src="colorful.js"></script>
	<script type="text/javascript" src="jquery1.8.3.min.js"></script>
	<style type="text/css" media="all">
		body,
		html {
			padding: 0;
			margin: 0;
			height: 100%;
			font-family: Arial, Microsoft YaHei;
			color: #111;
		}

		li {
			/*border-bottom: 1px #CCC solid;*/
			text-align: center;
			line-height: 80px;
		}
	</style>
</head>

<body>
	<!--must content ul li,or shoupi-->
	<div id="wrapper">
		<ul>
			<li>row 10</li>
			<li>row 9</li>
			<li>row 8</li>
			<li>row 7</li>
			<li>row 6</li>
			<li>row 5</li>
			<li>row 4</li>
			<li>row 3</li>
			<li>row 2</li>
			<li>row 1</li>
		</ul>
	</div>
	<script>
		refresher.init({
			id: "wrapper",
			pullDownAction: Refresh,
			// pullUpAction: Load
		});
		var generatedCount = 10;
		function Refresh() {
			setTimeout(function () {	
				var html="";
				for (i = 0; i < 11; i++) {
					generatedCount++
					html+='<li>row'+generatedCount+'</li>'
				}
				console.log(html);
				$("#wrapper ul li").eq(0).before(html);
				wrapper.refresh();/****remember to refresh after  action completed ****/
			}, 1000);
		}
	</script>
</body>

</html>